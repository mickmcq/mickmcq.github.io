<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Study Guide: Statistics for Informatics - 2&nbsp; Numerical and Visual Data Summaries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./week03.html" rel="next">
<link href="./week01.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<style>
#quarto-sidebar .menu-text {
  display: flex;
}
#quarto-sidebar .chapter-number {
  display: block;
  width: 1.5rem;
  text-align: right;
}
#quarto-sidebar .chapter-title {
  display: block;
  padding-left: 8px;
  text-indent: -2px;
  width: 100%;
}
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./week02.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Numerical and Visual Data Summaries</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Study Guide: Statistics for Informatics</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to the Course</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week02.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Numerical and Visual Data Summaries</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">More about R and Quarto</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction to Probability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Distributions of Random Variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Details of <code>ggplot2</code>; Introduction to Inference</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">More about Inference</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Inference for Numerical Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction to Linear Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Linear Regression; Logistic Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Coping with Time and Joins</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Milestone 4; Take-home Exam</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Human Computer Interaction Experiments</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Data Science Intro</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nextSteps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Next Steps</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#recap-week-01" id="toc-recap-week-01" class="nav-link active" data-scroll-target="#recap-week-01"><span class="header-section-number">2.1</span> Recap Week 01</a></li>
  <li><a href="#textbook-section-1.1-an-example-experiment-stents" id="toc-textbook-section-1.1-an-example-experiment-stents" class="nav-link" data-scroll-target="#textbook-section-1.1-an-example-experiment-stents"><span class="header-section-number">2.2</span> Textbook Section 1.1, An Example Experiment (stents)</a>
  <ul class="collapse">
  <li><a href="#textbook-exercise-1.1-the-migraine-data-set" id="toc-textbook-exercise-1.1-the-migraine-data-set" class="nav-link" data-scroll-target="#textbook-exercise-1.1-the-migraine-data-set"><span class="header-section-number">2.2.1</span> Textbook Exercise 1.1, the <code>migraine</code> data set</a></li>
  </ul></li>
  <li><a href="#textbook-section-1.2-data-basics" id="toc-textbook-section-1.2-data-basics" class="nav-link" data-scroll-target="#textbook-section-1.2-data-basics"><span class="header-section-number">2.3</span> Textbook Section 1.2, Data Basics</a>
  <ul class="collapse">
  <li><a href="#textbook-exercise-1.7" id="toc-textbook-exercise-1.7" class="nav-link" data-scroll-target="#textbook-exercise-1.7"><span class="header-section-number">2.3.1</span> Textbook Exercise 1.7</a></li>
  <li><a href="#textbook-exercise-1.12" id="toc-textbook-exercise-1.12" class="nav-link" data-scroll-target="#textbook-exercise-1.12"><span class="header-section-number">2.3.2</span> Textbook Exercise 1.12</a></li>
  </ul></li>
  <li><a href="#textbook-section-1.3-sampling" id="toc-textbook-section-1.3-sampling" class="nav-link" data-scroll-target="#textbook-section-1.3-sampling"><span class="header-section-number">2.4</span> Textbook Section 1.3, Sampling</a>
  <ul class="collapse">
  <li><a href="#textbook-exercise-1.15-asthma" id="toc-textbook-exercise-1.15-asthma" class="nav-link" data-scroll-target="#textbook-exercise-1.15-asthma"><span class="header-section-number">2.4.1</span> Textbook Exercise 1.15, Asthma</a></li>
  </ul></li>
  <li><a href="#textbook-section-1.4-experiments" id="toc-textbook-section-1.4-experiments" class="nav-link" data-scroll-target="#textbook-section-1.4-experiments"><span class="header-section-number">2.5</span> Textbook Section 1.4, Experiments</a>
  <ul class="collapse">
  <li><a href="#textbook-exercise-1.34-exercise-and-mental-health" id="toc-textbook-exercise-1.34-exercise-and-mental-health" class="nav-link" data-scroll-target="#textbook-exercise-1.34-exercise-and-mental-health"><span class="header-section-number">2.5.1</span> Textbook Exercise 1.34, Exercise and mental health</a></li>
  <li><a href="#answers" id="toc-answers" class="nav-link" data-scroll-target="#answers"><span class="header-section-number">2.5.2</span> Answers</a></li>
  </ul></li>
  <li><a href="#textbook-chapter-2-summarizing-data" id="toc-textbook-chapter-2-summarizing-data" class="nav-link" data-scroll-target="#textbook-chapter-2-summarizing-data"><span class="header-section-number">2.6</span> Textbook Chapter 2: Summarizing data</a>
  <ul class="collapse">
  <li><a href="#numerical-data" id="toc-numerical-data" class="nav-link" data-scroll-target="#numerical-data"><span class="header-section-number">2.6.1</span> Numerical data</a></li>
  </ul></li>
  <li><a href="#uncertainty-in-summaries" id="toc-uncertainty-in-summaries" class="nav-link" data-scroll-target="#uncertainty-in-summaries"><span class="header-section-number">2.7</span> Uncertainty in summaries</a></li>
  <li><a href="#categorical-data" id="toc-categorical-data" class="nav-link" data-scroll-target="#categorical-data"><span class="header-section-number">2.8</span> Categorical Data</a></li>
  <li><a href="#thursdays-class" id="toc-thursdays-class" class="nav-link" data-scroll-target="#thursdays-class"><span class="header-section-number">2.9</span> Thursday’s class</a>
  <ul class="collapse">
  <li><a href="#statistical-summary-tools" id="toc-statistical-summary-tools" class="nav-link" data-scroll-target="#statistical-summary-tools"><span class="header-section-number">2.9.1</span> Statistical summary tools</a></li>
  <li><a href="#numerical-summary-shortcuts" id="toc-numerical-summary-shortcuts" class="nav-link" data-scroll-target="#numerical-summary-shortcuts"><span class="header-section-number">2.9.2</span> Numerical summary shortcuts</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">2.9.3</span> Exercises</a></li>
  <li><a href="#solutions-to-exercises" id="toc-solutions-to-exercises" class="nav-link" data-scroll-target="#solutions-to-exercises"><span class="header-section-number">2.9.4</span> Solutions to exercises</a></li>
  <li><a href="#exercise-notes" id="toc-exercise-notes" class="nav-link" data-scroll-target="#exercise-notes"><span class="header-section-number">2.9.5</span> Exercise Notes</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Numerical and Visual Data Summaries</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="recap-week-01" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="recap-week-01"><span class="header-section-number">2.1</span> Recap Week 01</h2>
<p>We looked at four things:</p>
<ul>
<li>An example experiment (stents)</li>
<li>data basics</li>
<li>sampling</li>
<li>experiments</li>
</ul>
<p>The best way to read the textbook is to do some of the exercises. I expect you to spend 6 to 9 hours doing so outside of class each week. This is based on the popular rule of thumb that three class hours implies six to nine study hours.</p>
<p>Let’s look at some of the Chapter 1 exercises briefly.</p>
</section>
<section id="textbook-section-1.1-an-example-experiment-stents" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="textbook-section-1.1-an-example-experiment-stents"><span class="header-section-number">2.2</span> Textbook Section 1.1, An Example Experiment (stents)</h2>
<p>Here we looked at treatment groups and control groups.</p>
<section id="textbook-exercise-1.1-the-migraine-data-set" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="textbook-exercise-1.1-the-migraine-data-set"><span class="header-section-number">2.2.1</span> Textbook Exercise 1.1, the <code>migraine</code> data set</h3>
<p>In class we loaded the data set and made a contingency table, with which we can answer the four questions in Exercise 1.1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits=</span><span class="dv">1</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">paste0</span>(<span class="fu">Sys.getenv</span>(<span class="st">"STATS_DATA_DIR"</span>),<span class="st">"/migraine.rda"</span>))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(migraine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      group pain_free
1 treatment       yes
2 treatment       yes
3 treatment       yes
4 treatment       yes
5 treatment       yes
6 treatment       yes</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">with</span>(migraine,<span class="fu">table</span>(pain_free,group))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         group
pain_free control treatment
      no       44        33
      yes       2        10</code></pre>
</div>
</div>
<p>The four questions are:</p>
<ol type="a">
<li>What percent of patients in the treatment group were pain free 24 hours after receiving acupuncture?</li>
<li>What percent were pain free in the control group?</li>
<li>In which group did a higher percent of patients become pain free 24 hours after receiving acupuncture?</li>
<li>Your findings so far might suggest that acupuncture is an effective treatment for migraines for all people who suffer from migraines. However, this is not the only possible conclusion that can be drawn based on your findings so far. What is one other possible explanation for the observed difference between the percentages of patients that are pain free 24 hours after receiving acupuncture in the two groups?</li>
</ol>
<p>We can use the <code>tbl</code> object we created to answer these questions.</p>
<ol type="a">
<li>The percentage of patients in the treatment group who were pain free was 23.3%.</li>
<li>The percentage of patients in the control group who were pain free was 4.3%.</li>
<li>A higher percent of the treatment group became pain free.</li>
<li>Not all migraine headaches are alike. It is possible that, due to chance, the patients in the treatment group had less severe migraine headaches that were easier to cure.</li>
</ol>
<p>Examine the <code>.qmd</code> file that renders into this <code>.html</code> file. You’ll see that, rather than specify the numbers in the answers above, we actually did the calculations inline. What is good about doing this? (Hint: what happens if you add patients to the data set and rerender the document?) What is bad about doing this? (Hint: it looks clumsy and we could just as easily run the calculations in an <code>r</code> chunk, assign the results to object, and name the objects inline.)</p>
<p>Another issue is the code for part c.&nbsp;I only accounted for the case where the treatment group has the greater percent. It would be much better to add an <code>else</code> clause to account for the possibility that the answer should be <code>control</code> and an else to account for the two to be equal. The best way to do that is to create a non-echoing chunk and use the results inline. For example, the following chunk only appears in the <code>.qmd</code> file, not the <code>.html</code> file, but its results can be used inline.</p>
<p>Now we can say that the treatment group had the higher percentage. Only one problem remains and it is a software engineering problem. We haven’t tested the above code on a case where the control group or neither group had the higher percentages. We’ll leave that for now as a more advanced topic.</p>
</section>
</section>
<section id="textbook-section-1.2-data-basics" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="textbook-section-1.2-data-basics"><span class="header-section-number">2.3</span> Textbook Section 1.2, Data Basics</h2>
<p>Here we looked at</p>
<ul>
<li>observations (rows), variables (columns), and data matrices (data frames)</li>
<li>types of variables (dbl or continuous, int or discrete, fctr or nominal, and ordered fctr or ordinal)</li>
<li>relationships between variables</li>
<li>explanatory (x or features or input) and response (y or targets or output) variables</li>
<li>observational studies and experiments (and we mentioned an in-between activity called quasi-experiments)</li>
</ul>
<table class="table">
<caption><em>Data Type terminology: R vs the Textbook</em></caption>
<thead>
<tr class="header">
<th style="text-align: left;">R</th>
<th style="text-align: left;">Openintro Stats textbook</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">dbl, as.numeric()</td>
<td style="text-align: left;">numerical, continuous</td>
</tr>
<tr class="even">
<td style="text-align: left;">int, as.integer()</td>
<td style="text-align: left;">numerical, discrete</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fctr, factor()</td>
<td style="text-align: left;">categorical, nominal</td>
</tr>
<tr class="even">
<td style="text-align: left;">ord, ordered()</td>
<td style="text-align: left;">categorical, ordinal</td>
</tr>
</tbody>
</table>
<p>On the left of the above table, you see how R refers to data types. On the right is how the OpenIntro Stats textbook refers to data types. When you display a <em>tibble</em> (a tibble is a data frame with some extra information) using R, each variable column will be headed with <code>dbl</code>, <code>int</code>, <code>fctr</code>, or <code>ord</code> to indicate the four kinds of numbers. If a variable is not interpreted as a number, R will display <code>chr</code> as an abbreviation of character.</p>
<section id="textbook-exercise-1.7" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="textbook-exercise-1.7"><span class="header-section-number">2.3.1</span> Textbook Exercise 1.7</h3>
<p>What were the explanatory and response variables in the migraine study? The <code>group</code> was explanatory and <code>pain_free</code> was the response variable.</p>
</section>
<section id="textbook-exercise-1.12" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="textbook-exercise-1.12"><span class="header-section-number">2.3.2</span> Textbook Exercise 1.12</h3>
<p>This is a hard question in two parts.</p>
<ol type="a">
<li>List the variables used in creating this visualization.</li>
<li>Indicate whether each variable in the study is numerical or categorical. If numerical, identify as contin- uous or discrete. If categorical, indicate if the variable is ordinal.</li>
</ol>
<p>There is actually an <code>r</code> package underlying this question. If you visit <a href="https://github.com/dgrtwo/unvotes">https://github.com/dgrtwo/unvotes</a> you will see the data represented as a tibble. If you recall, during week one we said that a tibble is a data frame that <em>behaves</em> well. Among its features is a list of the data types, so you can answer parts a and b by looking at a tibble of the data, where you’ll see that</p>
<ul>
<li>year is stored as dbl although it is really discrete and could be stored as int</li>
<li>country is stored as chr which means <em>characters</em> although it is really a nominal factor</li>
<li>percent_yes is stored as a dbl which is appropriate</li>
<li>issue is stored as chr although it is really a nominal factor</li>
</ul>
<p>Later we’ll learn how to produce a visualization like this, although you are welcome to try based on the code at the unvotes website mentioned above. If you want the actual code itself, you can slightly modify the code at <a href="https://rpubs.com/minebocek/unvotes">https://rpubs.com/minebocek/unvotes</a> to include Mexico.</p>
</section>
</section>
<section id="textbook-section-1.3-sampling" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="textbook-section-1.3-sampling"><span class="header-section-number">2.4</span> Textbook Section 1.3, Sampling</h2>
<p>Here we talked about random sampling, stratified sampling, cluster sampling, and observational studies.</p>
<section id="textbook-exercise-1.15-asthma" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="textbook-exercise-1.15-asthma"><span class="header-section-number">2.4.1</span> Textbook Exercise 1.15, Asthma</h3>
<ol type="a">
<li>What is the population of interest and the sample? Note that the population is NOT all asthma sufferers. The population of interest is all asthma patients aged 18-69 who rely on medication for asthma treatment. The sample consists of 600 such patients.</li>
<li>Is the study generalizable? Can we establish cause and effect? The patients are probably not randomly sampled, so we need to know more to say whether they represent all asthma patients 18–69 who rely on medication. For example, they could all be from a high-pollution city. We would need to know that. The cause and effect determination is easier. An experiment can determine cause and effect, while an observational study only determines association.</li>
</ol>
</section>
</section>
<section id="textbook-section-1.4-experiments" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="textbook-section-1.4-experiments"><span class="header-section-number">2.5</span> Textbook Section 1.4, Experiments</h2>
<p>Here we discussed four issues:</p>
<ul>
<li>control</li>
<li>randomization</li>
<li>replication</li>
<li>blocking</li>
</ul>
<section id="textbook-exercise-1.34-exercise-and-mental-health" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="textbook-exercise-1.34-exercise-and-mental-health"><span class="header-section-number">2.5.1</span> Textbook Exercise 1.34, Exercise and mental health</h3>
<p>A researcher is interested in the effects of exercise on mental health and he proposes the following study: Use stratified random sampling to ensure representative proportions of 18-30, 31-40 and 41-55 year olds from the population. Next, randomly assign half the subjects from each age group to exercise twice a week, and instruct the rest not to exercise. Conduct a mental health exam at the beginning and at the end of the study, and compare the results.</p>
<ol type="a">
<li>What type of study is this?</li>
<li>What are the treatment and control groups in this study?</li>
<li>Does this study make use of blocking? If so, what is the blocking variable?</li>
<li>Does this study make use of blinding?</li>
<li>Comment on whether or not the results of the study can be used to establish a causal relationship between exercise and mental health, and indicate whether or not the conclusions can be generalized to the population at large.</li>
<li>Suppose you are given the task of determining if this proposed study should get funding. Would you have any reservations about the study proposal?</li>
</ol>
</section>
<section id="answers" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="answers"><span class="header-section-number">2.5.2</span> Answers</h3>
<ol type="a">
<li>This is an experiment.</li>
<li>The treatment is exercise twice a week and control is no exercise.</li>
<li>Yes, the blocking variable is age.</li>
<li>No, the study is not blinded since the patients will know whether or not they are exercising.</li>
<li>Since this is an experiment, we can make a causal statement. Since the sample is random, the causal statement can be generalized to the population at large. However, we should be cautious about making a causal statement because of a possible placebo effect.</li>
<li>It would be very difficult, if not impossible, to successfully conduct this study since randomly sampled people cannot be required to participate in a clinical trial</li>
</ol>
</section>
</section>
<section id="textbook-chapter-2-summarizing-data" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="textbook-chapter-2-summarizing-data"><span class="header-section-number">2.6</span> Textbook Chapter 2: Summarizing data</h2>
<p>This week, we’ll look at numerical data, categorical data, and a case study.</p>
<section id="numerical-data" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="numerical-data"><span class="header-section-number">2.6.1</span> Numerical data</h3>
<p>There are graphical and numerical methods for summarizing numerical data, including</p>
<ul>
<li>scatterplots</li>
<li>dot plots</li>
<li>mean</li>
<li>histograms</li>
<li>variance and standard deviation</li>
<li>box plots, quartiles, and the median</li>
<li>robust statistics</li>
<li>cartographic maps and cartograms</li>
</ul>
<p>We can draw a scatterplot of two variables of the <code>loan50</code> data as follows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos=</span><span class="fu">structure</span>(<span class="fu">c</span>(<span class="at">CRAN=</span><span class="st">"https://mirrors.nics.utk.edu/cran/"</span>)))</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">paste0</span>(<span class="fu">Sys.getenv</span>(<span class="st">"STATS_DATA_DIR"</span>),<span class="st">"/loan50.rda"</span>))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(annual_income,loan_amount)) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The above is a very basic scatterplot. Later, we’ll learn to change colors, background, labels, legends, and more. Bear in mind that the scatterplot is meant to compare two numeric variables. You can’t use it for a numeric variable and a categorical variable.</p>
<p>We can create a basic dotplot as follows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(homeownership)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A dotplot may be helpful to illustrate a categorical variable, but I seldom use them. Using them in concert with a boxplot may make more sense. We’ll look at boxplots later.</p>
<p>The mean is part of a good summary of data. We can find the mean of a variable by saying <code>mean(variable_name)</code> or as part of a summary. For instance</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">mean</span>(annual_income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 86170</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">summary</span>(annual_income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  28800   55750   74000   86170   99500  325000 </code></pre>
</div>
</div>
<p>Notice that the <code>summary()</code> function also gives us the minimum, the first quartile, the median, the 3rd quartile, and the maximum value of the variable, in addition to the mean. We’ll discuss all these statistics in the context of other ways to extract them. The problem with the mean that is demonstrated in the textbook is that two variables may have very different shapes but the same mean. So the textbook then describes histograms, which are a good way to identify the shape of a variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(annual_income)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Notice that the <em>x</em>-axis labels are shown in scientific notation. We can fix this using the <code>scales</code> package. By the way, in case I haven’t mentioned it before, we always refer to the horizontal axis as the <em>x</em>-axis and the vertical axis as the <em>y</em>-axis. This is the default for <code>r</code> and many other languages that create graphical displays.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(scales)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(annual_income)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">comma_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>You may have noticed that Hadley Wickham, the inventor of the Tidyverse, dislikes the default number of bins in a histogram. So he programmed <code>ggplot()</code> to always show a warning message saying to pick a better number, depending on your data. We can fix that easily with a parameter to <code>geom_histogram()</code>. Then each bin (vertical stripe) will represent a thousand dollars.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(annual_income)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">1000</span>) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">comma_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>You may notice that warning messages aren’t dealbreakers. An error message on the other hand, will often stop output dead in its tracks.</p>
<p>The next concepts covered in the textbook are variance and standard deviation. We can calculate them as follows. When you do this, you may notice that <code>sd()</code> is the square root of <code>var()</code>. Why would you prefer one over the other? Usually you use <code>sd()</code> because it’s in the same units as the data, dollars in the following case, unlike <code>var()</code>, which is in squared units, squared dollars in the following case.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">var</span>(annual_income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3e+09</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">sd</span>(annual_income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 57566</code></pre>
</div>
</div>
<p>Together, the mean and standard deviation are often a good, yet compact, description of a data set.</p>
<p>You may want to find the means of all the columns in a data set. If you try to do that with the <code>colMeans()</code> function, you’ll get an error message as follows. (Actually, I’ve disabled the following code chunk by saying <code>#| eval: false</code> in the <code>.qmd</code> file because otherwise the rendering would halt.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colMeans</span>(loan50)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The remedy is to use a logical function to identify only the numeric columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colMeans</span>(loan50[<span class="fu">sapply</span>(loan50, is.numeric)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             emp_length                    term           annual_income 
                     NA                   4e+01                   9e+04 
         debt_to_income      total_credit_limit   total_credit_utilized 
                  7e-01                   2e+05                   6e+04 
num_cc_carrying_balance             loan_amount           interest_rate 
                  5e+00                   2e+04                   1e+01 
 public_record_bankrupt            total_income 
                  8e-02                   1e+05 </code></pre>
</div>
</div>
<p>This is okay, but the results are in scientific notation. You can use the <code>format()</code> function to supress scientific notation as follows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">colMeans</span>(loan50[<span class="fu">sapply</span>(loan50, is.numeric)]),<span class="at">scientific=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             emp_length                    term           annual_income 
            "       NA"             "    42.72"             " 86170.00" 
         debt_to_income      total_credit_limit   total_credit_utilized 
            "     0.72"             "208546.64"             " 61546.54" 
num_cc_carrying_balance             loan_amount           interest_rate 
            "     5.06"             " 17083.00"             "    11.57" 
 public_record_bankrupt            total_income 
            "     0.08"             "105220.56" </code></pre>
</div>
</div>
<p>Notice that you often wrap a function inside another function. The only problem is that it’s easy to lose track of all the parentheses.</p>
<p>The next topic in the textbook is the box plot. This also gives an opportunity to talk about the quartiles and the median. We can display a box plot as follows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(annual_income)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">comma_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The thick line in the middle of the box is the median, the middle value of the data set. The box itself is bound by the first and third quartiles, known as <em>hinges</em>. The full name of this construct is actually a <em>box and whiskers plot</em> and the lines extending horizontally from the box are called whiskers. The upper whisker extends from the hinge to the largest value no further than 1.5 * IQR from the hinge (where IQR is the inter-quartile range, or distance between the first and third quartiles). The lower whisker extends from the hinge to the smallest value at most 1.5 * IQR of the hinge. Data beyond the end of the whiskers are called “outlying” points and are plotted individually.</p>
<p>We often want to create several box plots and compare them. This is easy to do as follows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(annual_income,homeownership)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">comma_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The textbook’s next topic is <em>Robust Statistics</em> and we’re going to pretty much skip that for now, except to say that outliers, as shown in the textbook, can affect the value of some statistics more than others. The mean and median are a good example. The median is much more robust to outliers than is the mean, which can be dragged way up or down by the presence of just one or a few outliers, whereas the median can not. As a kind of thought experiment, consider the following data set and the addition of an outlier and the effect of the outlier on the mean and median.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">6</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>y<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">6</span>,<span class="dv">800</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 70</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<!-- map stuff would go here -->
</section>
</section>
<section id="uncertainty-in-summaries" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="uncertainty-in-summaries"><span class="header-section-number">2.7</span> Uncertainty in summaries</h2>
<p>How can we portray our uncertainty about estimates of parameters? Consider two different vectors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Suppose that these are samples from two different populations. For both of these vectors, the best estimate is 5. Both the mean and median are 5 in both cases. But when estimating, we’re much more sure of our estimate in the case of <code>v</code> than <code>u</code>. We quantify that with variance or its square root, standard deviation. But those numbers don’t mean much to most people. It’s easier to portray uncertainty graphically than numerically. The typical ways to do so are to make boxplots, violin plots, or barcharts with error bars if we’re comparing two or more groups. If we are estimating a continuous variable, say <span class="math inline">\(y\)</span>, at many different values of <span class="math inline">\(x\)</span>, we can show our uncertainty by estimating standard deviation for portions of the data and putting them together as follows in an example from the R Graph Gallery.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(hrbrthemes)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#. Create synthetic data</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">sd=</span><span class="dv">9</span>),</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">sd=</span><span class="dv">16</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">#. linear trend + confidence interval</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Notice that the confidence interval is narrower at the center than at the extremes. Why? It’s because we’re using more data to estimate at the center and have less uncertainty at the center than at the ends, where the data is truncated.</p>
<p>Suppose we’re doing something even more sophisticated, such as comparing groups of continuous <span class="math inline">\(y\)</span> variables. A ridgeline plot is a popular solution to show variability, which is often similar to uncertainty, as shown in this example from the R Graph Gallery.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#. packages</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(ggridges)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(viridis)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">#. Plot</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lincoln_weather, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Mean Temperature [F]</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Month</span><span class="st">`</span>, <span class="at">fill =</span> ..x..)) <span class="sc">+</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges_gradient</span>(<span class="at">scale =</span> <span class="dv">3</span>, <span class="at">rel_min_height =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">name =</span> <span class="st">"Temp. [F]"</span>, <span class="at">option =</span> <span class="st">"C"</span>) <span class="sc">+</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Temperatures in Lincoln NE in 2016'</span>) <span class="sc">+</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">legend.position=</span><span class="st">"none"</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"lines"</span>),</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The dot-dot notation (`..x..`) was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(x)` instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Not only are the temperatures higher in the summer than in the winter, they are less variable, so we’re more certain of what the temperature might be on any given day in summer.</p>
</section>
<section id="categorical-data" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="categorical-data"><span class="header-section-number">2.8</span> Categorical Data</h2>
<p>We’ve already seen contingency tables and how to manipulate them, which are introduced in more detail in this section. We’ve also seen a mosaic plot. Another kind of plot introduced in this section is the bar plot. We’ll examine each of these.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">paste0</span>(<span class="fu">Sys.getenv</span>(<span class="st">"STATS_DATA_DIR"</span>),<span class="st">"/migraine.rda"</span>))</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">with</span>(migraine,<span class="fu">table</span>(pain_free,group))</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(tbl)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(kableExtra)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>tbl <span class="sc">|&gt;</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">|&gt;</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">3</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">background =</span> <span class="st">"#AAAAAA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">4</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">background =</span> <span class="st">"#AAAAAA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">background =</span> <span class="st">"white"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">control</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">treatment</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">no</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">33</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">77</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">yes</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">10</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: white !important; background-color: #AAAAAA !important; color: black !important; background-color: white !important;">Sum</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">46</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">43</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important; color: white !important; background-color: #AAAAAA !important;">89</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>As before, we can create a mosaic plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">with</span>(migraine,<span class="fu">table</span>(pain_free,group))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaicplot</span>(tbl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can also create bar plots.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(homeownership)) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(homeownership,<span class="at">fill=</span>loan_purpose)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The above looks better but is misleading because it implies an ordinal relationship between the loan purposes and there is no such relationship. We would be better of specifying that the <code>loan_purpose</code> variable is qualitative.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(homeownership,<span class="at">fill=</span>loan_purpose)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">type=</span><span class="st">"qual"</span>,<span class="at">palette=</span><span class="st">"Set1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>I find the above palette to be ugly but several others are available. Google <em>colorbrewer</em> for more info. By the way, these colors have been extensively psychologically tested to verify that people can easily distinguish between them. I’m uncertain about colorblind people because the most prevalent form of color blindness is red-green.</p>
</section>
<section id="thursdays-class" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="thursdays-class"><span class="header-section-number">2.9</span> Thursday’s class</h2>
<section id="statistical-summary-tools" class="level3" data-number="2.9.1">
<h3 data-number="2.9.1" class="anchored" data-anchor-id="statistical-summary-tools"><span class="header-section-number">2.9.1</span> Statistical summary tools</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(ISLR2)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(Auto)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>Auto <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(Auto)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(Auto,cylinders<span class="ot">&lt;-</span><span class="fu">as.factor</span>(cylinders))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here are some statistical summary questions we can answer about the <code>Auto</code> data set.</p>
<ol type="a">
<li>What is the range of each quantitative predictor? You can answer this using the <code>range()</code> function.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(Auto,<span class="fu">range</span>(mpg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 47</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(Auto,<span class="fu">range</span>(displacement))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  68 455</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(Auto[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>)],range)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     mpg displacement horsepower weight acceleration year
[1,]   9           68         46   1613            8   70
[2,]  47          455        230   5140           25   82</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(Auto[,<span class="fu">sapply</span>(Auto,is.numeric)],range)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     mpg cylinders displacement horsepower weight acceleration year origin
[1,]   9         3           68         46   1613            8   70      1
[2,]  47         8          455        230   5140           25   82      3</code></pre>
</div>
</div>
<ol start="2" type="a">
<li>What is the mean and standard deviation of each quantitative predictor?</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(Auto[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>)],mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         mpg displacement   horsepower       weight acceleration         year 
          23          194          104         2978           16           76 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(Auto[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>)],sd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         mpg displacement   horsepower       weight acceleration         year 
           8          105           38          849            3            4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(<span class="fu">t</span>(<span class="fu">sapply</span>(Auto[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>)],<span class="cf">function</span>(bla) <span class="fu">list</span>(<span class="at">means=</span><span class="fu">mean</span>(bla),<span class="at">sds=</span><span class="fu">sd</span>(bla),<span class="at">ranges=</span><span class="fu">range</span>(bla)))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             means sds     ranges
mpg             23   8      9, 47
displacement   194 105    68, 455
horsepower     104  38    46, 230
weight        2978 849 1613, 5140
acceleration    16   3      8, 25
year            76   4     70, 82</code></pre>
</div>
</div>
<ol start="3" type="a">
<li>Now remove the 10th through 85th observations. What is the range, mean, and standard deviation of each predictor in the subset of the data that remains?</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(<span class="fu">t</span>(<span class="fu">sapply</span>(Auto[<span class="sc">-</span><span class="dv">10</span><span class="sc">:-</span><span class="dv">85</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>)],<span class="cf">function</span>(bla) <span class="fu">list</span>(<span class="at">means=</span><span class="fu">mean</span>(bla),<span class="at">sds=</span><span class="fu">sd</span>(bla),<span class="at">ranges=</span><span class="fu">range</span>(bla)))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             means sds     ranges
mpg             24   8     11, 47
displacement   187 100    68, 455
horsepower     101  36    46, 230
weight        2936 811 1649, 4997
acceleration    16   3      8, 25
year            77   3     70, 82</code></pre>
</div>
</div>
</section>
<section id="numerical-summary-shortcuts" class="level3" data-number="2.9.2">
<h3 data-number="2.9.2" class="anchored" data-anchor-id="numerical-summary-shortcuts"><span class="header-section-number">2.9.2</span> Numerical summary shortcuts</h3>
<p>Several functions allow you to check up on many columns at once. This is especially helpful in examining dataframes with large numbers of columns, such as <code>amesHousing2011.csv</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">paste0</span>(<span class="fu">Sys.getenv</span>(<span class="st">"STATS_DATA_DIR"</span>),<span class="st">"/amesHousing2011.csv"</span>))</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [2,925 × 82] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Order        : num [1:2925] 1498 2738 2446 2667 2451 ...
 $ PID          : chr [1:2925] "0908154080" "0905427030" "0528320060" "0902400110" ...
 $ MSSubClass   : chr [1:2925] "020" "075" "060" "075" ...
 $ MSZoning     : chr [1:2925] "RL" "RL" "RL" "RM" ...
 $ LotFrontage  : num [1:2925] 123 60 118 90 114 87 NA 60 60 47 ...
 $ LotArea      : num [1:2925] 47007 19800 35760 22950 17242 ...
 $ Street       : chr [1:2925] "Pave" "Pave" "Pave" "Pave" ...
 $ Alley        : chr [1:2925] NA NA NA NA ...
 $ LotShape     : chr [1:2925] "IR1" "Reg" "IR1" "IR2" ...
 $ LandContour  : chr [1:2925] "Lvl" "Lvl" "Lvl" "Lvl" ...
 $ Utilities    : chr [1:2925] "AllPub" "AllPub" "AllPub" "AllPub" ...
 $ LotConfig    : chr [1:2925] "Inside" "Inside" "CulDSac" "Inside" ...
 $ LandSlope    : chr [1:2925] "Gtl" "Gtl" "Gtl" "Gtl" ...
 $ Neighborhood : chr [1:2925] "Edwards" "Edwards" "NoRidge" "OldTown" ...
 $ Condition1   : chr [1:2925] "Norm" "Norm" "Norm" "Artery" ...
 $ Condition2   : chr [1:2925] "Norm" "Norm" "Norm" "Norm" ...
 $ BldgType     : chr [1:2925] "1Fam" "1Fam" "1Fam" "1Fam" ...
 $ HouseStyle   : chr [1:2925] "1Story" "2.5Unf" "2Story" "2.5Fin" ...
 $ OverallQual  : num [1:2925] 5 6 10 10 9 7 8 6 10 8 ...
 $ OverallCond  : num [1:2925] 7 8 5 9 5 9 9 7 5 5 ...
 $ YearBuilt    : num [1:2925] 1959 1935 1995 1892 1993 ...
 $ YearRemod/Add: num [1:2925] 1996 1990 1996 1993 1994 ...
 $ RoofStyle    : chr [1:2925] "Gable" "Gable" "Hip" "Gable" ...
 $ RoofMatl     : chr [1:2925] "CompShg" "CompShg" "CompShg" "WdShngl" ...
 $ Exterior1st  : chr [1:2925] "Plywood" "BrkFace" "HdBoard" "Wd Sdng" ...
 $ Exterior2nd  : chr [1:2925] "Plywood" "Wd Sdng" "HdBoard" "Wd Sdng" ...
 $ MasVnrType   : chr [1:2925] "None" "None" "BrkFace" "None" ...
 $ MasVnrArea   : num [1:2925] 0 0 1378 0 738 ...
 $ ExterQual    : chr [1:2925] "TA" "TA" "Gd" "Gd" ...
 $ ExterCond    : chr [1:2925] "TA" "TA" "Gd" "Gd" ...
 $ Foundation   : chr [1:2925] "Slab" "BrkTil" "PConc" "BrkTil" ...
 $ BsmtQual     : chr [1:2925] NA "TA" "Ex" "TA" ...
 $ BsmtCond     : chr [1:2925] NA "TA" "TA" "TA" ...
 $ BsmtExposure : chr [1:2925] NA "No" "Gd" "Mn" ...
 $ BsmtFinType1 : chr [1:2925] NA "Rec" "GLQ" "Unf" ...
 $ BsmtFinSF1   : num [1:2925] 0 425 1387 0 292 ...
 $ BsmtFinType2 : chr [1:2925] NA "Unf" "Unf" "Unf" ...
 $ BsmtFinSF2   : num [1:2925] 0 0 0 0 1393 ...
 $ BsmtUnfSF    : num [1:2925] 0 1411 543 1107 48 ...
 $ TotalBsmtSF  : num [1:2925] 0 1836 1930 1107 1733 ...
 $ Heating      : chr [1:2925] "GasA" "GasA" "GasA" "GasA" ...
 $ HeatingQC    : chr [1:2925] "TA" "Gd" "Ex" "Ex" ...
 $ CentralAir   : chr [1:2925] "Y" "Y" "Y" "Y" ...
 $ Electrical   : chr [1:2925] "SBrkr" "SBrkr" "SBrkr" "SBrkr" ...
 $ 1stFlrSF     : num [1:2925] 3820 1836 1831 1518 1933 ...
 $ 2ndFlrSF     : num [1:2925] 0 1836 1796 1518 1567 ...
 $ LowQualFinSF : num [1:2925] 0 0 0 572 0 0 0 515 0 0 ...
 $ GrLivArea    : num [1:2925] 3820 3672 3627 3608 3500 ...
 $ BsmtFullBath : num [1:2925] NA 0 1 0 1 0 0 0 0 1 ...
 $ BsmtHalfBath : num [1:2925] NA 0 0 0 0 0 0 0 0 0 ...
 $ FullBath     : num [1:2925] 3 3 3 2 3 3 3 2 3 3 ...
 $ HalfBath     : num [1:2925] 1 1 1 1 1 0 1 0 1 1 ...
 $ BedroomAbvGr : num [1:2925] 5 5 4 4 4 3 4 8 5 4 ...
 $ KitchenAbvGr : num [1:2925] 1 1 1 1 1 1 1 2 1 1 ...
 $ KitchenQual  : chr [1:2925] "Ex" "Gd" "Gd" "Ex" ...
 $ TotRmsAbvGrd : num [1:2925] 11 7 10 12 11 10 11 14 10 12 ...
 $ Functional   : chr [1:2925] "Typ" "Typ" "Typ" "Typ" ...
 $ Fireplaces   : num [1:2925] 2 2 1 2 1 1 2 0 1 1 ...
 $ FireplaceQu  : chr [1:2925] "Gd" "Gd" "TA" "TA" ...
 $ GarageType   : chr [1:2925] "Attchd" "Detchd" "Attchd" "Detchd" ...
 $ GarageYrBlt  : num [1:2925] 1959 1993 1995 1993 1993 ...
 $ GarageFinish : chr [1:2925] "Unf" "Unf" "Fin" "Unf" ...
 $ GarageCars   : num [1:2925] 2 2 3 3 3 3 3 0 3 3 ...
 $ GarageArea   : num [1:2925] 624 836 807 840 959 ...
 $ GarageQual   : chr [1:2925] "TA" "TA" "TA" "Ex" ...
 $ GarageCond   : chr [1:2925] "TA" "TA" "TA" "TA" ...
 $ PavedDrive   : chr [1:2925] "Y" "Y" "Y" "Y" ...
 $ WoodDeckSF   : num [1:2925] 0 684 361 0 870 302 314 0 204 503 ...
 $ OpenPorchSF  : num [1:2925] 372 80 76 260 86 0 12 110 34 36 ...
 $ EnclosedPorch: num [1:2925] 0 32 0 0 0 0 0 0 0 0 ...
 $ 3SsnPorch    : num [1:2925] 0 0 0 0 0 0 0 0 0 0 ...
 $ ScreenPorch  : num [1:2925] 0 0 0 410 210 0 0 0 0 210 ...
 $ PoolArea     : num [1:2925] 0 0 0 0 0 0 0 0 0 0 ...
 $ PoolQC       : chr [1:2925] NA NA NA NA ...
 $ Fence        : chr [1:2925] NA NA NA "GdPrv" ...
 $ MiscFeature  : chr [1:2925] NA NA NA NA ...
 $ MiscVal      : num [1:2925] 0 0 0 0 0 0 0 0 0 0 ...
 $ MoSold       : num [1:2925] 7 12 7 6 5 5 5 3 9 6 ...
 $ YrSold       : num [1:2925] 2008 2006 2006 2006 2006 ...
 $ SaleType     : chr [1:2925] "WD" "WD" "WD" "WD" ...
 $ SaleCondition: chr [1:2925] "Normal" "Normal" "Normal" "Normal" ...
 $ SalePrice    : num [1:2925] 284700 415000 625000 475000 584500 ...
 - attr(*, "spec")=
  .. cols(
  ..   Order = col_double(),
  ..   PID = col_character(),
  ..   MSSubClass = col_character(),
  ..   MSZoning = col_character(),
  ..   LotFrontage = col_double(),
  ..   LotArea = col_double(),
  ..   Street = col_character(),
  ..   Alley = col_character(),
  ..   LotShape = col_character(),
  ..   LandContour = col_character(),
  ..   Utilities = col_character(),
  ..   LotConfig = col_character(),
  ..   LandSlope = col_character(),
  ..   Neighborhood = col_character(),
  ..   Condition1 = col_character(),
  ..   Condition2 = col_character(),
  ..   BldgType = col_character(),
  ..   HouseStyle = col_character(),
  ..   OverallQual = col_double(),
  ..   OverallCond = col_double(),
  ..   YearBuilt = col_double(),
  ..   `YearRemod/Add` = col_double(),
  ..   RoofStyle = col_character(),
  ..   RoofMatl = col_character(),
  ..   Exterior1st = col_character(),
  ..   Exterior2nd = col_character(),
  ..   MasVnrType = col_character(),
  ..   MasVnrArea = col_double(),
  ..   ExterQual = col_character(),
  ..   ExterCond = col_character(),
  ..   Foundation = col_character(),
  ..   BsmtQual = col_character(),
  ..   BsmtCond = col_character(),
  ..   BsmtExposure = col_character(),
  ..   BsmtFinType1 = col_character(),
  ..   BsmtFinSF1 = col_double(),
  ..   BsmtFinType2 = col_character(),
  ..   BsmtFinSF2 = col_double(),
  ..   BsmtUnfSF = col_double(),
  ..   TotalBsmtSF = col_double(),
  ..   Heating = col_character(),
  ..   HeatingQC = col_character(),
  ..   CentralAir = col_character(),
  ..   Electrical = col_character(),
  ..   `1stFlrSF` = col_double(),
  ..   `2ndFlrSF` = col_double(),
  ..   LowQualFinSF = col_double(),
  ..   GrLivArea = col_double(),
  ..   BsmtFullBath = col_double(),
  ..   BsmtHalfBath = col_double(),
  ..   FullBath = col_double(),
  ..   HalfBath = col_double(),
  ..   BedroomAbvGr = col_double(),
  ..   KitchenAbvGr = col_double(),
  ..   KitchenQual = col_character(),
  ..   TotRmsAbvGrd = col_double(),
  ..   Functional = col_character(),
  ..   Fireplaces = col_double(),
  ..   FireplaceQu = col_character(),
  ..   GarageType = col_character(),
  ..   GarageYrBlt = col_double(),
  ..   GarageFinish = col_character(),
  ..   GarageCars = col_double(),
  ..   GarageArea = col_double(),
  ..   GarageQual = col_character(),
  ..   GarageCond = col_character(),
  ..   PavedDrive = col_character(),
  ..   WoodDeckSF = col_double(),
  ..   OpenPorchSF = col_double(),
  ..   EnclosedPorch = col_double(),
  ..   `3SsnPorch` = col_double(),
  ..   ScreenPorch = col_double(),
  ..   PoolArea = col_double(),
  ..   PoolQC = col_character(),
  ..   Fence = col_character(),
  ..   MiscFeature = col_character(),
  ..   MiscVal = col_double(),
  ..   MoSold = col_double(),
  ..   YrSold = col_double(),
  ..   SaleType = col_character(),
  ..   SaleCondition = col_character(),
  ..   SalePrice = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"Order"</span>,<span class="st">"PID"</span>))</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">where</span>(is.character)) <span class="sc">|&gt;</span> <span class="fu">map</span> ( table )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$MSSubClass

 020  030  040  045  050  060  070  075  080  085  090  120  150  160  180  190 
1078  139    6   18  287  571  128   23  118   48  109  192    1  129   17   61 

$MSZoning

A (agr) C (all)      FV I (all)      RH      RL      RM 
      2      25     139       2      27    2268     462 

$Street

Grvl Pave 
  12 2913 

$Alley

Grvl Pave 
 120   78 

$LotShape

 IR1  IR2  IR3  Reg 
 975   76   15 1859 

$LandContour

 Bnk  HLS  Low  Lvl 
 114  120   60 2631 

$Utilities

AllPub NoSeWa NoSewr 
  2922      1      2 

$LotConfig

 Corner CulDSac     FR2     FR3  Inside 
    508     180      85      14    2138 

$LandSlope

 Gtl  Mod  Sev 
2784  125   16 

$Neighborhood

Blmngtn Blueste  BrDale BrkSide ClearCr CollgCr Crawfor Edwards Gilbert  Greens 
     28      10      30     108      44     267     103     191     165       8 
GrnHill  IDOTRR Landmrk MeadowV Mitchel   NAmes NoRidge NPkVill NridgHt  NWAmes 
      2      93       1      37     114     443      69      23     166     131 
OldTown  Sawyer SawyerW Somerst StoneBr   SWISU  Timber Veenker 
    239     151     125     182      51      48      72      24 

$Condition1

Artery  Feedr   Norm   PosA   PosN   RRAe   RRAn   RRNe   RRNn 
    92    163   2519     20     38     28     50      6      9 

$Condition2

Artery  Feedr   Norm   PosA   PosN   RRAe   RRAn   RRNn 
     5     13   2896      4      3      1      1      2 

$BldgType

  1Fam 2fmCon Duplex  Twnhs TwnhsE 
  2420     62    109    101    233 

$HouseStyle

1.5Fin 1.5Unf 1Story 2.5Fin 2.5Unf 2Story SFoyer   SLvl 
   314     19   1480      8     24    869     83    128 

$RoofStyle

   Flat   Gable Gambrel     Hip Mansard    Shed 
     20    2320      22     547      11       5 

$RoofMatl

CompShg Membran   Metal    Roll Tar&amp;Grv WdShake WdShngl 
   2884       1       1       1      23       9       6 

$Exterior1st

AsbShng AsphShn BrkComm BrkFace  CBlock CemntBd HdBoard ImStucc MetalSd Plywood 
     44       2       6      88       2     124     441       1     450     221 
PreCast   Stone  Stucco VinylSd Wd Sdng WdShing 
      1       2      42    1026     419      56 

$Exterior2nd

AsbShng AsphShn Brk Cmn BrkFace  CBlock CmentBd HdBoard ImStucc MetalSd   Other 
     38       4      22      47       3     124     405      14     447       1 
Plywood PreCast   Stone  Stucco VinylSd Wd Sdng Wd Shng 
    274       1       6      46    1015     397      81 

$MasVnrType

 BrkCmn BrkFace  CBlock    None   Stone 
     25     879       1    1751     246 

$ExterQual

  Ex   Fa   Gd   TA 
 103   35  988 1799 

$ExterCond

  Ex   Fa   Gd   Po   TA 
  12   67  299    3 2544 

$Foundation

BrkTil CBlock  PConc   Slab  Stone   Wood 
   311   1244   1305     49     11      5 

$BsmtQual

  Ex   Fa   Gd   Po   TA 
 253   88 1219    2 1283 

$BsmtCond

  Ex   Fa   Gd   Po   TA 
   3  104  122    5 2611 

$BsmtExposure

  Av   Gd   Mn   No 
 417  280  239 1906 

$BsmtFinType1

ALQ BLQ GLQ LwQ Rec Unf 
429 269 854 154 288 851 

$BsmtFinType2

 ALQ  BLQ  GLQ  LwQ  Rec  Unf 
  53   68   34   89  106 2494 

$Heating

Floor  GasA  GasW  Grav  OthW  Wall 
    1  2880    27     9     2     6 

$HeatingQC

  Ex   Fa   Gd   Po   TA 
1490   92  476    3  864 

$CentralAir

   N    Y 
 196 2729 

$Electrical

FuseA FuseF FuseP   Mix SBrkr 
  188    50     8     1  2677 

$KitchenQual

  Ex   Fa   Gd   Po   TA 
 200   70 1160    1 1494 

$Functional

Maj1 Maj2 Min1 Min2  Mod  Sal  Sev  Typ 
  19    9   65   70   35    2    2 2723 

$FireplaceQu

 Ex  Fa  Gd  Po  TA 
 42  75 741  46 599 

$GarageType

 2Types  Attchd Basment BuiltIn CarPort  Detchd 
     23    1727      36     185      15     782 

$GarageFinish

 Fin  RFn  Unf 
 723  812 1231 

$GarageQual

  Ex   Fa   Gd   Po   TA 
   3  124   24    5 2610 

$GarageCond

  Ex   Fa   Gd   Po   TA 
   3   74   15   14 2660 

$PavedDrive

   N    P    Y 
 216   62 2647 

$PoolQC

Ex Fa Gd TA 
 3  2  3  3 

$Fence

GdPrv  GdWo MnPrv  MnWw 
  118   112   329    12 

$MiscFeature

Gar2 Othr Shed TenC 
   5    4   95    1 

$SaleType

  COD   Con ConLD ConLI ConLw   CWD   New   Oth   VWD    WD 
   87     5    26     9     8    12   236     7     1  2534 

$SaleCondition

Abnorml AdjLand  Alloca  Family  Normal Partial 
    189      12      24      46    2412     242 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">|&gt;</span> <span class="fu">map</span> ( summary )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$LotFrontage
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
     21      58      68      69      80     313     490 

$LotArea
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1300    7438    9428   10104   11515  215245 

$OverallQual
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1       5       6       6       7      10 

$OverallCond
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1       5       5       6       6       9 

$YearBuilt
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1872    1954    1973    1971    2001    2010 

$`YearRemod/Add`
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1950    1965    1993    1984    2004    2010 

$MasVnrArea
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      0       0       0     101     164    1600      23 

$BsmtFinSF1
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      0       0     370     438     733    2288       1 

$BsmtFinSF2
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      0       0       0      50       0    1526       1 

$BsmtUnfSF
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      0     219     464     559     801    2336       1 

$TotalBsmtSF
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      0     793     990    1047    1299    3206       1 

$`1stFlrSF`
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    334     876    1082    1155    1383    3820 

$`2ndFlrSF`
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0     334     702    1862 

$LowQualFinSF
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0       5       0    1064 

$GrLivArea
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    334    1126    1441    1494    1740    3820 

$BsmtFullBath
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
    0.0     0.0     0.0     0.4     1.0     3.0       2 

$BsmtHalfBath
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
    0.0     0.0     0.0     0.1     0.0     2.0       2 

$FullBath
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       1       2       2       2       4 

$HalfBath
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.0     0.0     0.0     0.4     1.0     2.0 

$BedroomAbvGr
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       2       3       3       3       8 

$KitchenAbvGr
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       1       1       1       1       3 

$TotRmsAbvGrd
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      2       5       6       6       7      14 

$Fireplaces
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       1       1       1       4 

$GarageYrBlt
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   1895    1960    1979    1978    2002    2207     159 

$GarageCars
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      0       1       2       2       2       5       1 

$GarageArea
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      0     320     480     472     576    1488       1 

$WoodDeckSF
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0      93     168    1424 

$OpenPorchSF
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0      27      47      70     742 

$EnclosedPorch
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0      23       0    1012 

$`3SsnPorch`
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0       3       0     508 

$ScreenPorch
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0      16       0     576 

$PoolArea
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0       2       0     800 

$MiscVal
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       0       0      45       0   15500 

$MoSold
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1       4       6       6       8      12 

$YrSold
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   2006    2007    2008    2008    2009    2010 

$SalePrice
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  12789  129500  160000  180412  213500  625000 </code></pre>
</div>
</div>
<p>Using the above functions would let you quickly and easily to determine that you should delete some columns and convert others to factor or integer. You can delete columns by saying, for instance,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"Order"</span>,<span class="st">"PID"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You may add as many names to the list in the <code>-c()</code> vector as desired.</p>
<p>You may wish to delete columns with a lot of NAs rather than deleting rows with lots of NAs. (Why is this?)</p>
<p>This is easy to discover in the case of numerical columns. For instance, <code>LotFrontage</code> has 490 NAs. You can quickly see that in the output of the above <code>summary</code>. But it doesn’t work for character data. One quick way to see the number of NAs in all columns is to say</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(df)) <span class="sc">|&gt;</span> <span class="fu">sort</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   MSSubClass      MSZoning       LotArea        Street      LotShape 
            0             0             0             0             0 
  LandContour     Utilities     LotConfig     LandSlope  Neighborhood 
            0             0             0             0             0 
   Condition1    Condition2      BldgType    HouseStyle   OverallQual 
            0             0             0             0             0 
  OverallCond     YearBuilt YearRemod/Add     RoofStyle      RoofMatl 
            0             0             0             0             0 
  Exterior1st   Exterior2nd     ExterQual     ExterCond    Foundation 
            0             0             0             0             0 
      Heating     HeatingQC    CentralAir      1stFlrSF      2ndFlrSF 
            0             0             0             0             0 
 LowQualFinSF     GrLivArea      FullBath      HalfBath  BedroomAbvGr 
            0             0             0             0             0 
 KitchenAbvGr   KitchenQual  TotRmsAbvGrd    Functional    Fireplaces 
            0             0             0             0             0 
   PavedDrive    WoodDeckSF   OpenPorchSF EnclosedPorch     3SsnPorch 
            0             0             0             0             0 
  ScreenPorch      PoolArea       MiscVal        MoSold        YrSold 
            0             0             0             0             0 
     SaleType SaleCondition     SalePrice    BsmtFinSF1    BsmtFinSF2 
            0             0             0             1             1 
    BsmtUnfSF   TotalBsmtSF    Electrical    GarageCars    GarageArea 
            1             1             1             1             1 
 BsmtFullBath  BsmtHalfBath    MasVnrType    MasVnrArea      BsmtQual 
            2             2            23            23            80 
     BsmtCond  BsmtFinType1  BsmtFinType2  BsmtExposure    GarageType 
           80            80            81            83           157 
  GarageYrBlt  GarageFinish    GarageQual    GarageCond   LotFrontage 
          159           159           159           159           490 
  FireplaceQu         Fence         Alley   MiscFeature        PoolQC 
         1422          2354          2727          2820          2914 </code></pre>
</div>
</div>
<p>This makes it clear that you should not use <code>FireplaceQu</code>, <code>Fence</code>, <code>Alley</code>, or <code>MiscFeature</code> in addition to <code>LotFrontage</code>.</p>
<p>A better-looking display may be obtained by saying</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">colSums</span>(<span class="fu">is.na</span>(df))</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>v[v<span class="sc">&gt;</span><span class="dv">0</span>] <span class="sc">|&gt;</span> <span class="fu">sort</span>(<span class="at">decreasing=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             sort(v[v &gt; 0], decreasing = TRUE)
PoolQC                                    2914
MiscFeature                               2820
Alley                                     2727
Fence                                     2354
FireplaceQu                               1422
LotFrontage                                490
GarageYrBlt                                159
GarageFinish                               159
GarageQual                                 159
GarageCond                                 159
GarageType                                 157
BsmtExposure                                83
BsmtFinType2                                81
BsmtQual                                    80
BsmtCond                                    80
BsmtFinType1                                80
MasVnrType                                  23
MasVnrArea                                  23
BsmtFullBath                                 2
BsmtHalfBath                                 2
BsmtFinSF1                                   1
BsmtFinSF2                                   1
BsmtUnfSF                                    1
TotalBsmtSF                                  1
Electrical                                   1
GarageCars                                   1
GarageArea                                   1</code></pre>
</div>
</div>
</section>
<section id="exercises" class="level3" data-number="2.9.3">
<h3 data-number="2.9.3" class="anchored" data-anchor-id="exercises"><span class="header-section-number">2.9.3</span> Exercises</h3>
<p>Create a Quarto document called <code>week02exercises.qmd</code>. Use your name as the author name and the date as the current date. Make the title within the document “Week 2 Exercises”.</p>
<p>Answer the following questions in the document, using a combination of narration and R chunks.</p>
<ol type="1">
<li><p>Use the <code>loan50</code> data set. Find the mean and median of <code>annual_income</code> using R. Tell why they differ in words.</p></li>
<li><p>Use the <code>loan50</code> data set. Make a contingency table of <code>loan_purpose</code> and <code>grade</code>. Tell the most frequently occurring grade and most frequently occurring loan purpose in words.</p></li>
<li><p>Use the <code>loan50</code> data set. Provide a statistical summary of <code>total_credit_limit</code>.</p></li>
<li><p>Use the <code>loan50</code> data set. Show the column means for all numeric columns.</p></li>
<li><p>Use the <code>loan50</code> data set. Make a contingency table of <code>state</code> and <code>homeownership</code>. Tell which state has the most mortgages in words.</p></li>
</ol>
<p>Now render the document and submit both the <code>.qmd</code> file and the <code>.html</code> file to Canvas under “week02exercises”.</p>
</section>
<section id="solutions-to-exercises" class="level3" data-number="2.9.4">
<h3 data-number="2.9.4" class="anchored" data-anchor-id="solutions-to-exercises"><span class="header-section-number">2.9.4</span> Solutions to exercises</h3>
<ol type="1">
<li>Use the <code>loan50</code> data set. Find the mean and median of <code>annual_income</code> using R. Tell why they differ in words.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">paste0</span>(<span class="fu">Sys.getenv</span>(<span class="st">"STATS_DATA_DIR"</span>),<span class="st">"/loan50.rda"</span>))</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">mean</span>(annual_income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 86170</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">median</span>(annual_income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 74000</code></pre>
</div>
</div>
<p>They differ because the mean is susceptible to outliers. There are about four outliers in this data set (high annual incomes) and they drag the mean upward but not the median. The median is a more reliable measure of centrality when there are influential outliers.</p>
<ol start="2" type="1">
<li>Use the <code>loan50</code> data set. Make a contingency table of <code>loan_purpose</code> and <code>grade</code>. Tell the most frequently occurring grade and most frequently occurring loan purpose in words.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">addmargins</span>(<span class="fu">table</span>(loan_purpose,grade)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    grade
loan_purpose             A  B  C  D  E  F  G Sum
                      0  0  0  0  0  0  0  0   0
  car                 0  0  1  1  0  0  0  0   2
  credit_card         0  6  4  1  1  1  0  0  13
  debt_consolidation  0  2  9  4  7  1  0  0  23
  home_improvement    0  1  4  0  0  0  0  0   5
  house               0  0  1  0  0  0  0  0   1
  major_purchase      0  0  0  0  0  0  0  0   0
  medical             0  0  0  0  0  0  0  0   0
  moving              0  0  0  0  0  0  0  0   0
  other               0  4  0  0  0  0  0  0   4
  renewable_energy    0  1  0  0  0  0  0  0   1
  small_business      0  1  0  0  0  0  0  0   1
  vacation            0  0  0  0  0  0  0  0   0
  wedding             0  0  0  0  0  0  0  0   0
  Sum                 0 15 19  6  8  2  0  0  50</code></pre>
</div>
</div>
<p>The most frequently occurring purpose is debt consolidation, while the most frequently occurring grade is B.</p>
<ol start="3" type="1">
<li>Use the <code>loan50</code> data set. Provide a statistical summary of <code>total_credit_limit</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">summary</span>(total_credit_limit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  15980   70526  147364  208547  299766  793009 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,scales<span class="sc">::</span><span class="fu">comma_format</span>(<span class="fu">summary</span>(total_credit_limit)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (x) 
{
    number(x, accuracy = accuracy, scale = scale, prefix = prefix, 
        suffix = suffix, big.mark = big.mark, decimal.mark = decimal.mark, 
        style_positive = style_positive, style_negative = style_negative, 
        scale_cut = scale_cut, trim = trim, ...)
}
&lt;bytecode: 0x7f9c33414c08&gt;
&lt;environment: 0x7f9c318fa6d8&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#. same info with commas in numbers</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">Min=</span><span class="fu">comma</span>(<span class="fu">min</span>(total_credit_limit)),</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">firstq=</span><span class="fu">comma</span>(<span class="fu">quantile</span>(total_credit_limit,<span class="fl">0.25</span>)),</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">Median=</span><span class="fu">comma</span>(<span class="fu">median</span>(total_credit_limit)),</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">Mean=</span><span class="fu">comma</span>(<span class="fu">mean</span>(total_credit_limit)),</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">thirdq=</span><span class="fu">comma</span>(<span class="fu">quantile</span>(total_credit_limit,<span class="fl">0.75</span>)),</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">Max=</span><span class="fu">comma</span>(<span class="fu">max</span>(total_credit_limit)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Min firstq  Median    Mean  thirdq     Max
1 15,980 70,526 147,364 208,547 299,766 793,009</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Use the <code>loan50</code> data set. Show the column means for all numeric columns.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits=</span><span class="dv">1</span>)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">colMeans</span>(loan50[<span class="fu">sapply</span>(loan50, is.numeric)]),<span class="at">scientific=</span><span class="cn">FALSE</span>,<span class="at">big.mark=</span><span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             emp_length                    term           annual_income 
           "        NA"            "     42.72"            " 86,170.00" 
         debt_to_income      total_credit_limit   total_credit_utilized 
           "      0.72"            "208,546.64"            " 61,546.54" 
num_cc_carrying_balance             loan_amount           interest_rate 
           "      5.06"            " 17,083.00"            "     11.57" 
 public_record_bankrupt            total_income 
           "      0.08"            "105,220.56" </code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Use the <code>loan50</code> data set. Make a contingency table of <code>state</code> and <code>homeownership</code>. Tell which state has the most mortgages in words.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(loan50,<span class="fu">table</span>(state,homeownership))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     homeownership
state rent mortgage own
         0        0   0
   AK    0        0   0
   AL    0        0   0
   AR    0        0   0
   AZ    0        0   1
   CA    7        2   0
   CO    0        0   0
   CT    1        0   0
   DC    0        0   0
   DE    0        0   0
   FL    1        2   0
   GA    0        0   0
   HI    1        1   0
   ID    0        0   0
   IL    3        0   1
   IN    0        1   1
   KS    0        0   0
   KY    0        0   0
   LA    0        0   0
   MA    1        1   0
   MD    2        1   0
   ME    0        0   0
   MI    0        1   0
   MN    0        1   0
   MO    0        1   0
   MS    0        1   0
   MT    0        0   0
   NC    0        0   0
   ND    0        0   0
   NE    0        1   0
   NH    1        0   0
   NJ    2        1   0
   NM    0        0   0
   NV    0        2   0
   NY    1        0   0
   OH    0        1   0
   OK    0        0   0
   OR    0        0   0
   PA    0        0   0
   RI    0        1   0
   SC    0        1   0
   SD    0        0   0
   TN    0        0   0
   TX    0        5   0
   UT    0        0   0
   VA    1        0   0
   VT    0        0   0
   WA    0        0   0
   WI    0        1   0
   WV    0        1   0
   WY    0        0   0</code></pre>
</div>
</div>
<p>Texas has five mortgages, more than any other state.</p>
</section>
<section id="exercise-notes" class="level3" data-number="2.9.5">
<h3 data-number="2.9.5" class="anchored" data-anchor-id="exercise-notes"><span class="header-section-number">2.9.5</span> Exercise Notes</h3>
<ol type="1">
<li>Many students did not follow instructions on file naming. I will take off a lot of points if this happens when you turn in a graded assignment. I expect all files to be uniformly named.</li>
<li>Several students left the boilerplate verbiage in their <code>.qmd</code> file. I will take off a lot of points if this happens when you turn in a graded assignment.</li>
<li>One student put their narrative inside the code chunks as R comments. Don’t do this. It undercuts the purpose of mixing narrative and code in a Quarto document.</li>
<li>Some students didn’t try to answer the second part of question 1. One way to understand this is to draw a boxplot of the data, showing that there are four outliers at the top end, dragging the mean upward but leaving the median pretty much alone.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>loan50 <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(annual_income)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="week02_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="5" type="1">
<li>Some students included graphics, which don’t show up in the copy on Canvas. One way to make these graphics show up is to add the following code to the front matter (the front matter is the stuff between two sets of three dashes at the beginning of the file):</li>
</ol>
<pre><code>format:
  html:
    embed-resources: true</code></pre>
<p>The indentation shown above is essential for it to work.</p>
<ol start="6" type="1">
<li>Some students highlighted relevant rows and columns as shown below. This was a really great addition.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">with</span>(loan50,<span class="fu">table</span>(loan_purpose,grade))</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(tbl)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(kableExtra)</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>tbl <span class="sc">|&gt;</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">|&gt;</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">4</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">background =</span> <span class="st">"#AAAAAA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">4</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">background =</span> <span class="st">"#AAAAAA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">background =</span> <span class="st">"white"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">B</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">D</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">E</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">F</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">G</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;"></td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">car</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">credit_card</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #AAAAAA !important; color: black !important; background-color: white !important;">debt_consolidation</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">2</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important; color: white !important; background-color: #AAAAAA !important;">9</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">4</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">7</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">23</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">home_improvement</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">house</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">major_purchase</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">medical</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">moving</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">other</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">renewable_energy</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">small_business</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">vacation</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">wedding</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">Sum</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">15</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">19</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">50</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Another way to do this is to say</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>maxrow<span class="ot">&lt;-</span><span class="fu">max</span>(tbl[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">levels</span>(loan50<span class="sc">$</span>loan_purpose))<span class="sc">-</span><span class="dv">1</span>,<span class="st">"Sum"</span>])</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>maxcol<span class="ot">&lt;-</span><span class="fu">max</span>(tbl[<span class="st">"Sum"</span>,<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">levels</span>(loan50<span class="sc">$</span>grade))<span class="sc">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>and</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>maxrownum <span class="ot">&lt;-</span> <span class="fu">which.max</span>(tbl[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">levels</span>(loan50<span class="sc">$</span>loan_purpose))<span class="sc">-</span><span class="dv">1</span>,<span class="st">"Sum"</span>])</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>maxcolnum <span class="ot">&lt;-</span> <span class="fu">which.max</span>(tbl[<span class="st">"Sum"</span>,<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">levels</span>(loan50<span class="sc">$</span>grade))<span class="sc">-</span><span class="dv">1</span>])<span class="sc">+</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now you can plug <code>maxrownum</code> and <code>maxcolnum</code> into the formula without having to know which row and column you’re talking about.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>tbl <span class="sc">|&gt;</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">|&gt;</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(maxrownum, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">background =</span> <span class="st">"#AAAAAA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(maxcolnum, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">background =</span> <span class="st">"#AAAAAA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">background =</span> <span class="st">"white"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">B</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">D</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">E</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">F</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">G</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;"></td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">car</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">credit_card</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13</td>
</tr>
<tr class="even">
<td style="text-align: left; color: white !important; background-color: #AAAAAA !important; color: black !important; background-color: white !important;">debt_consolidation</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">2</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important; color: white !important; background-color: #AAAAAA !important;">9</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">4</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">7</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">23</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">home_improvement</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">house</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">major_purchase</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">medical</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">moving</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">other</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">renewable_energy</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">small_business</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">vacation</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left; color: black !important; background-color: white !important;">wedding</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left; color: black !important; background-color: white !important;">Sum</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">15</td>
<td style="text-align: right; color: white !important; background-color: #AAAAAA !important;">19</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">50</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>And, in the narrative you can say that the maximum frequency of loan_purpose is 23. In the narrative you can alo say that the maximum frequency of grade is 19.</p>
<ol start="7" type="1">
<li>One student stipulated that the mean and median could not ever be the same except in two unusual circumstances. Actually it is quite easy for the mean to equal the mean as you can see from this simple example.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./week01.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to the Course</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./week03.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">More about R and Quarto</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>